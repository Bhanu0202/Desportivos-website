//EVENTS DATA

var eventsContent = {
  Basketball: {
    svg: "path-to-svg",
    header: "Basketball Rules",
    body: ` <h5>Men and Women Team</h5>
            <div>
                <p>Maximum number of players per team are 12.</p>
                <p>The match will consist of 4 quarters, each quarter lasting 10
                    minutes (unless mentioned otherwise).</p>
                <p>Fixtures and schedule for matches will be put up at the time of
                    on-desk registration. Timings for the matches will be strictly
                    adhered to.</p>
                <p>Officials will keep score and their decisions will be final.</p>
            </div>
            <hr>
            <div class="row">
                <div class="col-12 col-sm-6">Devendra Shekhawat<br><a href="tel:+91-6378651940" title="Click to Call">+91-6378651940</a></div>
                <div class="col-12 col-sm-6">Mriganshi Sharma<br><a href="tel:+91-7976159409" title="Click to Call">+91-7976159409</a></div>
            </div>
            <div class="row">
                <div class="col-12 col-sm-6">Priyank<br><a href="tel:+91-7895323230" title="Click to Call">+91-7895323230</a></div>
            </div>`
  },
  Boxing: {
    svg: "path-to-svg",
    header: "Boxing Rules",
    body: `<div>
                                                    <h5>Categories (Only Boys)</h5>
                                                    <p>Medium Weight</p>
                                                    <p>Light Weight</p>
                                                    <p>Heavy Weight</p>
                                                </div>
                                                <div>
                                                    <h5>Rules</h5>
                                                    <p>As per standard boxing rules.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-12 col-sm-6 col-md-6">Bhavika Tibrewal<br><a href="tel:+91-7014719537" title="Click to Call">+91-7014719537</a></div>
                                                    <div class="col-12 col-sm-6 col-md-6">Vatsal Malaviya<br><a href="tel:+91-8780289866" title="Click to Call">+91-8780289866</a></div>
                                                </div>`
  },
  Chess: {
    svg: "path-to-svg",
    header: "Chess Rules",
    body: ` <div>
                                                    <h5>Classical</h5>
                                                    <p>A team consists of 4 players who actually play in tournament and
                                                        one extra. All the team members must belong to the same
                                                        Institute.</p>
                                                    <p>The game is going to be played between 4 players from different
                                                        teams.</p>
                                                    <p>The format will be knockout tournament.</p>
                                                    <p>Latest FIDE rules will be followed in the game.</p>
                                                    <p>Separate tournaments for boys and girls.</p>
                                                    <p>Matches will be of 1 hour 30 min (each player).</p>
                                                    <p>Only one illegal move is allowed in a game of 1 hour and 30
                                                        mins.</p>
                                                    <p>Blitz will be played if scores are same and 3 blitz games will
                                                        be played between the teams.</p>
                                                    <p>The arbiter's decision shall be final in case of any
                                                        discrepancies.</p>
                                                </div>
                                                <div>
                                                    <h5>Blitz (Tie Breaker Blitz)</h5>
                                                    <p>Illegal moves are not allowed (loss of first illegal move).</p>
                                                    <p>Matches will be of 5 min (each player).</p>
                                                    <p>The Arbiter's decision shall be final in case of any
                                                        discrepancies.</p>
                                                    <p>No illegal move allowed in blitz (tie breaker)</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-12 col-sm-6 col-md-4">Naman Jain<br><a href="tel:+91-7568805115"
                                                            title="Click to Call">7568805115</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Shivam Kejriwal<br><a href="tel:+91-8002459133"
                                                            title="Click to Call">8002459133</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Sheetal<br><a href="tel:+91-9454875720"
                                                            title="Click to Call">9454875720</a></div>
                                                </div>`
  },
  "Martial Arts": {
    svg: "path-to-svg",
    header: "Martial Arts Rules",
    body: ` <div>
                                                    <p>Registration of All Events will be conducted as per Latest WKF
                                                        Rules.</p>
                                                    <p>Decisions by the Referee Panel will be the Final.</p>
                                                    <p>All participants should bring their own Martial Arts Equipment</p>
                                                    <p>No Equipment will be provided by the Institute.</p>
                                                    <p>Shin Guards and Gum Shields are compulsory for Kumite.</p>
                                                    <p>1 Gold, 1 Silver and 1 Bronze will be awarded for each category.</p>
                                                </div>
                                                <div>
                                                    <h5>Events and Categories</h5>
                                                    <p><b>Senior Kata Male</b>: All Weights in 1 Category.</p>
                                                    <p><b>Senior Kata Female</b>: All Weights in 1 Category.</p>
                                                    <p><b>Senior Kumite Male</b>: -59Kg, -67Kg, -75Kg, +75Kg.</p>
                                                    <p>No separate categories are there for Color and Black Belts.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-12 col-sm-6 col-md-6">Agraj Agarwal<br><a href="tel:+91-9068875477"
                                                            title="Click to Call">+91-9068875477</a></div>
                                                    <div class="col-12 col-sm-6 col-md-6">Utkarsh Kumar<br><a href="tel:+91-7023514107"
                                                            title="Click to Call">+91-7023514107</a></div>
                                                </div>
                                            `
  },
  Cricket: {
    svg: "path-to-svg",
    header: "Cricket Rules",
    body: ` <div>
                                                    <p>Maximum 16 players are allowed in a team and the tournament will
                                                        be played on the T-20 knock-out format.</p>
                                                    <p>Tie in the game will be resolved by a super over.</p>
                                                    <p>Tie in case of points or wins in finals will be resolved by
                                                        comparison of net run rates of all the matches played by the
                                                        team.</p>
                                                    <p>Teams should report 15 minutes before the scheduled time
                                                        otherwise the match will be forfeited to the other team.</p>
                                                    <p>All the teams should come in whites.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                     <div class="col-12 col-sm-6 col-md-4">Pranav Wadhwa<br><a href="tel:+91-9783400235" title="Click to Call">9783400235</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Vardhman Jain<br><a href="tel:+91-9315155944" title="Click to Call">9315155944</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Sajal Garg<br><a href="tel:+91-9818984717" title="Click to Call">9818984717</a></div>
                                                </div>`
  },
  Tennis: {
    svg: "path-to-svg",
    header: "Tennis Rules",
    body: ` <div>
                                                    <p>Each team should have minimum 3 and maximum 4 players.</p>
                                                    <p>Teams should bring their own kit. Only match balls will be
                                                        provided for the matches.</p>
                                                    <p>The chair umpire has final words on all issues related to on
                                                        court facts.</p>
                                                    <p>All the team members are required to show their ID cards before
                                                        the beginning of the match failing which the defaulting
                                                        individual will not be allowed to play.</p>
                                                    <p>The Rules of Tennis 2013 as released by the ITF will be
                                                        followed.</p>
                                                    <p>In case of a deuce, the first side which scores two points wins
                                                        the game. These points need not be consecutive.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-12 col-sm-6 col-md-6">Shreyans Jain<br><a href="tel:+91-9610080215" title="Click to Call">+91-9610080215</a></div>
                                                    <!-- <div class="col-12 col-sm-6 col-md-6">Shrey Pratap Jagawat<br><a href="tel:+91-9928859868" title="Click to Call">+91-9928859868</a></div> -->
                                                </div>`
  },
  Volleyball: {
    svg: "path-to-svg",
    header: "Volleyball Rules",
    body: ` <div>
                                                    <p>Separate matches for girls and boys.</p>
                                                    <p>Maximum number of players per team is 12 (6 main + 6 sub).</p>
                                                    <p>3 sets of 25 points each(Final match will be of 5 sets of 25
                                                        points each).</p>
                                                    <p>Officials will keep score and their decisions will be final.</p>
                                                    <p>Maximum 3 touches are allowed.</p>
                                                    <p>Rotation Policy will be followed if both teams agree on it.</p>
                                                    <p>Night matches will also be held.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-12 col-sm-6 col-md-4">Dhruv Yadav<br><a href="tel:+91-9999640075" title="Click to Call">9999640075</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Nandirudra Singh Mokalsar<br><a href="tel:+91-9414980787" title="Click to Call">9414980787</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Shubhangi Sharma<br><a href="tel:+91-6377914790" title="Click to Call">6377914790</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Poonam Baheti<br><a href="tel:+91-9521063425" title="Click to Call">9521063425</a></div>
                                                </div>`
  },
  Football: {
    svg: "path-to-svg",
    header: "Football Rules",
    body: ` <div>
                                                    <p>Normal FIFA rules applicable.</p>
                                                    <p>Maximum 18 players are allowed in a team.</p>
                                                    <p>Offside etc. as per current format followed.</p>
                                                    <p>Maximum 3 substitutions allowed.</p>
                                                    <p>Extra time for the matches shall be notified only before the
                                                        match.</p>
                                                    <p>The decision of the refree will be final and binding.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-12 col-sm-6">Dhananjay Singh Hada<br><a href="tel:+91-8503817750" title="Click to Call">8503817750</a></div>
                                                    <div class="col-12 col-sm-6">Shakul<br><a href="tel:+91-8601366233" title="Click to Call">8601366233</a></div>
                                                </div>`
  },
  "Table Tennis": {
    svg: "path-to-svg",
    header: "Table Tennis Rules",
    body: ` <div>
                                                    <h5>Men's Team</h5>
                                                    <p><b>Format of Play (in order)</b>: Singles(A vs X), Singles (B vs
                                                        Y), Doubles, Reverse Singles(A vs Y), Reverse Singles(B vs X).</p>
                                                    <p>All games will be Best of 3.</p>
                                                    <p>Players playing singles cannot play the doubles.</p>
                                                    <p>Maximum 5 and minimum 4 separate players are allowed in a team.</p>
                                                    <p>Any show of unnecessary aggression or unsportsmanlike conduct
                                                        towards the umpire or the playing equipment will lead to the
                                                        immediate disqualification of the player. Any discussions
                                                        regarding the same will not be entertained.</p>
                                                </div>
                                                <div>
                                                    <h5>Women's Team</h5>
                                                    <p><b>Format of Play (in order)</b>: Singles(A vs X), Singles (B vs
                                                        Y), Singles(C vs Z), Reverse Singles(A vs Y), Reverse Singles(B
                                                        vs X).</p>
                                                    <p>All games will be Best of 5.</p>
                                                    <p>3 separate players are required in the team.</p>
                                                    <p>Maximum 4 and minimum 3 players are allowed in a team.</p>
                                                </div>
                                                <div>
                                                    <h5>Open Tournament (for men only)</h5>
                                                    <p>All games will be best of 5 each set will be of 11 points.</p>
                                                    <p>Open singles</p>
                                                    <p>Open doubles (Partners can be from 2 different colleges)</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                     <div class="col-12 col-sm-6 col-md-4">Sumit Rajpurohit<br><a href="tel:+91-9660483793" title="Click to Call">+91-9660483793</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Dev Patel<br><a href="tel:+91-9409251952" title="Click to Call">+91-9409251952</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Meghal Jain<br><a href="tel:+91-6378022991" title="Click to Call">+91-6378022991</a></div>
                                                </div>
                                            `
  },
  Kabaddi: {
    svg: "path-to-svg",
    header: "Kabaddi Rules",
    body: ` <div>
                                                    <h5>General Rules</h5>
                                                    <p>Maximum number of players (weight limit-75kgs) per team are 10.</p>
                                                    <p>The match will consist of 4 quarters, each quarter lasting 10
                                                        minutes (unless mentioned otherwise).</p>
                                                    <p>Fixtures and schedule for matches will be put up at the time of
                                                        on-desk registration. Timings for the matches will be strictly
                                                        adhered to.</p>
                                                    <p>Officials will keep score and their decisions will be final.</p>
                                                    <p>Each kabaddi game has total duration of 40 minutes, divided into two halves of 20 minutes each.</p>
                                                </div>
                                                <div>
                                                    <h5>Rules while Raiding</h5>
                                                    <p>A raid is only valid, if the raider crosses the baulk line with at least one foot while the other foot is in the air.</p>
                                                    <p>Before entering the opposing court, the raider must keep uttering “kabaddi” and can only stop once he returns back to his court. If he pauses momentarily, the raider is to get back to his own court without scoring any points.</p>
                                                    <p>The raider cannot be grabbed by anything other than his limbs and torso, and it is closely inspected by the officials.</p>
                                                    <p>Players cannot step out of the court, and doing so results in the loss of a point. Also, there is specific zone called the lobby which is active only when the raider has made contact with a defender.</p>
                                                    <p>Empty raids are the ones in which the raider returns to his court without earning any points. After two successive empty raids, the attacking team have to make a “do-or-die” raid, where if they fail to score a point, the defending team earns a point.</p>
                                                </div>
                                                <div>
                                                    <h5>Rules for Extra Points</h5>
                                                    <p><b>Bonus Line</b>: The bonus line is only active when the defending team has at least 6-7 players. If the raider manages to cross the bonus line in a raid, he will earn an extra point.</p>
                                                    <p><b>All Out</b>: If all the players of a team are tagged out, then the opposing team earns two extra points.</p>
                                                    <p><b>Super Tackle or Catch</b>: If the defending team, manages to get hold of the raider with less than four defenders, then it is called a super tackle and the defending team earns an extra point.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                     <div class="col-12 col-sm-6 col-md-4">Rishabh Sharma<br><a href="tel:+91-7742313435" title="Click to Call">+91-7742313435</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Aditya Goyal<br><a href="tel:+91-9783921726" title="Click to Call">+91-9783921726</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Monika Singhal<br><a href="tel:+91-8619785081" title="Click to Call">+91-8619785081</a></div>
                                                </div>`
  },
  Badminton: {
    svg: "path-to-svg",
    header: "Badminton Rules",
    body: ` <div>
                                                    <p><b>Format of Play</b>: Best of 3 in the order - Singles,
                                                        Doubles, Singles.</p>
                                                    <p>Each match (singles/doubles) will be a best of 3 of 21 points
                                                        each.</p>
                                                    <p>Teams for every game are to be submitted before the match.</p>
                                                    <p>Latest IBF rules will be followed.</p>
                                                    <p>Teams of maximum 5 players and minimum 3 players are allowed.</p>
                                                    <p>Only one player can play in two matches (one singles and one
                                                        doubles).</p>
                                                    <p>Decision of referees and Organising Committee will be final and
                                                        binding.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-12 col-sm-6 col-md-4">Anirudh Singh<br><a href="tel:+91-7023291861" title="Click to Call">7023291861</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Brajesh Agarwal<br><a href="tel:+91-8432631000" title="Click to Call">8432631000</a></div>
                                                    <div class="col-12 col-sm-6 col-md-4">Bharat Paliwal<br><a href="tel:+91-6377541668" title="Click to Call">6377541668</a></div>
                                                </div>`
  },
  Squash: {
    svg: "path-to-svg",
    header: "Squash Rules",
    body: ` <div>
                                                    <p>A team consist of 3 players.</p>
                                                    <p>The order of match between two teams A and X will be (A1 vs X1),
                                                        (A2 vs X2),(A3 vs X3),(A2 vs X1),(A1 vs X2).</p>
                                                    <p>Each match is best of 3 game. A match consists of 16 points.</p>
                                                    <p>The server, on winning a rally, scores a point and retains the
                                                        service; the receiver, on winning a rally, scores a point and
                                                        becomes the server. committee will be final and binding.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-12 col-md-6">Nitin Khandelwal<br><a href="tel:+91-7791056121" title="Click to Call">+91-7791056121</a></div>
                                                    <div class="col-12 col-md-6">Vipul Khandelwal<br><a href="tel:+91-8696941353" title="Click to Call">+91-8696941353</a></div>
                                                </div>`
  },
  Lifting: {
    svg: "path-to-svg",
    header: "Lifting Rules",
    body: ` <div>
                                                    <h5>Rules</h5>
                                                    <p>Athletes in the sport are divided in three weight classes and placing is based on the total weight lifted on the three main lifts: <b>Squat</b>, <b>Bench Press</b>, <b>Dead Lift</b></p>
                                                    <p>A team consist of 3 players.</p>
                                                    <p>This is an individual event and winner will be chosen by weight lifted to body weight ratio.</p>
                                                    <p>A good lift is signalled by indicating a white flag, and an illegal one by a red flag.</p>
                                                    <p>Once the highest value has been collected for each lift, the total weight lifted in squat bench press and deadlift is added up. </p>
                                                    <p>The weight of an athlete’s first lift determines their place in the starting order. If they choose to go for a light weight, they will go earlier in the order.</p>
                                                    <p>Referee ‘s decision will be last decision.</p>
                                                    <p>Weighing of players will be started before 2 hours from competition.</p>
                                                    <p>During the weighing player must mention his first lift for squat, bench press and deadlift to referee.</p>
                                                    <p>Player must come with proper kit during competition.</p>
                                                    <p>In case of any controversy during competition and weighing, judge’s decision will consider as final decision.</p>
                                                    <p>Participants must bring their college identity cards. </p>
                                                    <p>The decision of the organizing committee shall be final in all regards.</p>
                                                </div>
                                                <div>
                                                    <h5>Format</h5>
                                                    <p>Three bodyweight categories: up to 70kg, 70-80kg, 80kg and above.</p>
                                                    <p>Each competitor is allowed two attempts on each lift. The competitor has 3 lifts to reach his maximum lift. The lifter’s best valid attempt on each lift counts toward his competition total.</p>
                                                    <p>Each match is best of 3 game. A match consists of 16 points.</p>
                                                    <p>Winner for each weight category will be decided by maximum value of (total weight lifted)/(body weight).</p>
                                                </div>
                                                <div>
                                                    <h5>Participation</h5>
                                                    <p>No player should be aged 25 years or more as on the first day of the tournament.</p>
                                                </div>
                                                <hr>
                                                <div class="row">
                                                     <div class="col-12 col-sm-6 col-md-6">Geet Choudhary<br><a href="tel:+91-9829271717" title="Click to Call">+91-9829271717</a></div>
                                                    <div class="col-12 col-sm-6 col-md-6">Anant Sharma<br><a href="tel:+91-8529841966" title="Click to Call">+91-8529841966</a></div>
                                                </div>`
  }
};

//modal

var body = document.body;
var modal = createModal(document.querySelector("#modal-1"));
var targetClicked = undefined;

//modal animations

function createModal(container) {
  var content = container.querySelector(".modal-content");
  var dialog = container.querySelector(".modal-dialog");
  var polygon = container.querySelector(".modal-polygon");
  var svg = container.querySelector(".modal-svg");

  var point1 = createPoint(45, 45);
  var point2 = createPoint(55, 45);
  var point3 = createPoint(55, 55);
  var point4 = createPoint(45, 55);

  var animation = new TimelineMax({
    onReverseComplete: onReverseComplete,
    onStart: onStart,
    paused: true
  })
    .to(
      point1,
      0.3,
      {
        x: 15,
        y: 30,
        ease: Power4.easeIn
      },
      0
    )
    .to(
      point4,
      0.3,
      {
        x: 5,
        y: 80,
        ease: Power2.easeIn
      },
      "-=0.1"
    )
    .to(point1, 0.3, {
      x: 0,
      y: 0,
      ease: Power3.easeIn
    })
    .to(
      point2,
      0.3,
      {
        x: 100,
        y: 0,
        ease: Power2.easeIn
      },
      "-=0.2"
    )
    .to(point3, 0.3, {
      x: 100,
      y: 100,
      ease: Power2.easeIn
    })
    .to(
      point4,
      0.3,
      {
        x: 0,
        y: 100,
        ease: Power2.easeIn
      },
      "-=0.1"
    )
    .to(
      container,
      1,
      {
        autoAlpha: 1
      },
      0
    )
    .to(content, 1, {
      autoAlpha: 1
    })
    .to(dialog, 0.2, { backgroundColor: "#e24594" });

  var modal = {
    animation: animation,
    container: container,
    content: content,
    dialog: dialog,
    isOpen: false,
    open: open,
    close: close
  };

  body.removeChild(container);

  function onClick() {
    if (modal.isOpen) {
      close();
    }
  }

  function onStart() {
    body.appendChild(container);
    const targetName = targetClicked.innerHTML;
    console.log(targetName);
    const modalHeader = container.querySelector(".modal-header");
    const modalBody = container.querySelector(".modal-body");
    modalHeader.innerHTML = eventsContent[targetName].header;
    modalBody.innerHTML = eventsContent[targetName].body;
    if (dialog.offsetHeight >= screen.height) {
      dialog.style.height = "100%";
      dialog.style.overflowY = "auto";
    } else {
      dialog.style.height = "auto";
      dialog.style.overflowY = "hidden";
    }

    container.addEventListener("click", onClick);
  }

  function onReverseComplete() {
    container.removeEventListener("click", onClick);
    body.removeChild(container);
  }

  function open() {
    modal.isOpen = true;
    animation.play().timeScale(2);
  }

  function close() {
    modal.isOpen = false;
    animation.reverse().timeScale(2.5);
  }

  function createPoint(x, y) {
    var point = polygon.points.appendItem(svg.createSVGPoint());
    point.x = x || 0;
    point.y = y || 0;
    return point;
  }

  return modal;
}

let timeout, imgto;
const ul = document.getElementById("items");
const li = document.getElementsByTagName("li");
const cap = document.getElementById("event-img");
const ar_li = [...li];
ul.addEventListener("mouseover", e => {
  const el = e.target;
  cap.style.opacity = 0;
  if (el.tagName === "LI") {
    console.log(el);
    clearTimeout(imgto);

    imgto = setTimeout(() => {
      cap.setAttribute("src", `assets/events/${el.innerHTML}.jpg`);
      cap.style.opacity = 1;
    }, 500);
  } else {
    clearTimeout(imgto);
    imgto = setTimeout(() => {
      cap.setAttribute("src", `assets/events/event-1.jpg`);
      cap.style.opacity = 1;
    }, 500);
  }
});
if (screen.width >= 601) {
  let prevpos = 0;
  document.addEventListener("mousemove", e => {
    const pos = ul.getBoundingClientRect().y;
    let direction;
    if (prevpos > pos) direction = "up";
    else direction = "down";
    prevpos = pos;
    ul.style.transform =
      "translateY(" + -(e.clientY * 1.5 - screen.height / 2 + 350) + "px)";

    ar_li.forEach(l => {
      if (direction === "up") l.style.transform = "rotate3d(1, 1, 1, -10deg)";
      if (direction === "down") l.style.transform = "rotate3d(1,1,1,10deg)";
    });
    clearTimeout(timeout);
    timeout = setTimeout(() => {
      ar_li.forEach(l => {
        l.style.transform = "scaleY(1) rotate3d(0, 0, 0, 0)";
      });
    }, 80);
  });
}

ul.addEventListener("click", e => {
  if (e.target.tagName === "LI") {
    targetClicked = e.target;
    modal.open();
  }
});
